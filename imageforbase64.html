<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
 <p>
    <label>请选择一个文件：</label>
    <div onclick="test()" style="width:60px;height: 80px;background: red;"></div>
    <input type="file" id="imagefile" onchange="readAsDataURL(event)" />
    <input type="button" value="读取图像" />
</p>
<div name="result" id="result">
     <!-- 这里用来显示图片结果-->
</div>
<img src="" id="showImage" alt="">
	<script>
    function test () {
      var imagefile = document.getElementById("imagefile")
      // alert(111)
      imagefile.click()
    }
		function readAsDataURL(e) {
            //  if(typeof FileReader=='undifined')          //判断浏览器是否支持filereader
            //  {
            //     result.innerHTML="<p>抱歉，你的浏览器不支持 FileReader</p>";
            //     return false;
            // }
            // var file=document.getElementById("imagefile").files[0];
            var file = e.target.files[0]
            console.log(file)
            if(!/image\/\w+/.test(file.type))           //判断获取的是否为图片文件
            {
                alert("请确保文件为图像文件");
                return false;
            }
            var reader=new FileReader();
            reader.readAsDataURL(file);
            reader.onload=function(e)
            {
               // var result=document.getElementById("result");
               // result.innerHTML='<img src="'+this.result+'" alt=""/>'
              //  console.log(this)
            }
 
        }
	</script>
</body>
</html>